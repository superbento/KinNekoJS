{"ast":null,"code":"var _jsxFileName = \"D:\\\\node workplace\\\\KinNekoJSBiao\\\\KinNekoJS\\\\src\\\\components\\\\frontpage\\\\Header.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton'; // import SearchIcon from '@material-ui/icons/Search'\n\nimport Typography from '@material-ui/core/Typography'; // import Link from '@material-ui/core/Link'\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Logo from './logo.png';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport axios from 'axios';\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    borderBottom: `1px solid ${theme.palette.divider}`\n  },\n  toolbarTitle: {\n    flex: 1\n  },\n  toolbarSecondary: {\n    justifyContent: 'space-between',\n    overflowX: 'auto'\n  },\n  toolbarLink: {\n    padding: theme.spacing(1),\n    flexShrink: 0\n  }\n}));\nconst signUp = window.localStorage.getItem('UserID') != '';\nconst logout = window.localStorage.getItem('UserID') == '';\nexport default function Header(props) {\n  const classes = useStyles();\n  const title = props.title;\n  console.log('id: ' + window.localStorage.getItem('UserID'));\n\n  function handle() {\n    window.location.href = '../login';\n  }\n\n  function Logout() {\n    axios.get('http://localhost:3001/user/logout').then(result => {\n      console.log(result);\n      window.localStorage.setItem('jwtToken', '');\n      window.localStorage.setItem('UserID', '');\n      window.location.href = '';\n    }).catch(error => {\n      console.log('logout error' + error);\n    });\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: Logo,\n    alt: \"\",\n    width: \"200\",\n    herf: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h5\",\n    color: \"inherit\",\n    align: \"center\",\n    noWrap: true,\n    className: classes.toolbarTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, title), React.createElement(IconButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    alt: \"Remy Sharp\",\n    src: \"/static/images/avatar/1.jpg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(Button, {\n    hidden: signUp,\n    variant: \"outlined\",\n    size: \"small\",\n    onClick: handle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"sign up\"), React.createElement(Button, {\n    hidden: logout,\n    variant: \"outlined\",\n    size: \"small\",\n    onClick: Logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Logout\")));\n}\nHeader.propTypes = {\n  sections: PropTypes.array,\n  title: PropTypes.string\n};","map":{"version":3,"sources":["D:/node workplace/KinNekoJSBiao/KinNekoJS/src/components/frontpage/Header.js"],"names":["React","PropTypes","makeStyles","Toolbar","Button","IconButton","Typography","Avatar","Logo","BrowserRouter","Router","Route","Switch","axios","useStyles","theme","toolbar","borderBottom","palette","divider","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","toolbarLink","padding","spacing","flexShrink","signUp","window","localStorage","getItem","logout","Header","props","classes","title","console","log","handle","location","href","Logout","get","then","result","setItem","catch","error","propTypes","sections","array","string"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\n// import SearchIcon from '@material-ui/icons/Search'\r\nimport Typography from '@material-ui/core/Typography'\r\n// import Link from '@material-ui/core/Link'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Logo from './logo.png'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  toolbar: {\r\n    borderBottom: `1px solid ${theme.palette.divider}`\r\n  },\r\n  toolbarTitle: {\r\n    flex: 1\r\n  },\r\n  toolbarSecondary: {\r\n    justifyContent: 'space-between',\r\n    overflowX: 'auto'\r\n  },\r\n  toolbarLink: {\r\n    padding: theme.spacing(1),\r\n    flexShrink: 0\r\n  }\r\n}))\r\nconst signUp = (window.localStorage.getItem('UserID') != '')\r\nconst logout = (window.localStorage.getItem('UserID') == '')\r\n\r\nexport default function Header (props) {\r\n  const classes = useStyles()\r\n  const { title } = props\r\n  console.log('id: ' + window.localStorage.getItem('UserID'))\r\n  function handle () {\r\n    window.location.href = '../login'\r\n  }\r\n\r\n  function Logout () {\r\n    axios.get('http://localhost:3001/user/logout')\r\n      .then((result) => {\r\n        console.log(result)\r\n        window.localStorage.setItem('jwtToken', '')\r\n        window.localStorage.setItem('UserID', '')\r\n        window.location.href = ''\r\n      })\r\n      .catch((error) => {\r\n        console.log('logout error' + error)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Toolbar className={classes.toolbar}>\r\n        <img src={Logo} alt='' width='200' herf='#' />\r\n        <Typography\r\n          component='h2'\r\n          variant='h5'\r\n          color='inherit'\r\n          align='center'\r\n          noWrap\r\n          className={classes.toolbarTitle}\r\n        >\r\n          {title}\r\n        </Typography>\r\n        <IconButton>\r\n          <Avatar alt='Remy Sharp' src='/static/images/avatar/1.jpg' />\r\n        </IconButton>\r\n        <Button hidden={signUp} variant='outlined' size='small' onClick={handle}>\r\n          sign up\r\n        </Button>\r\n        <Button hidden={logout} variant='outlined' size='small' onClick={Logout}>\r\n          Logout\r\n        </Button>\r\n      </Toolbar>\r\n    </>\r\n  )\r\n}\r\n\r\nHeader.propTypes = {\r\n  sections: PropTypes.array,\r\n  title: PropTypes.string\r\n}\r\n"]},"metadata":{},"sourceType":"module"}